---
globs: ["src/**/*.*"]
---

# ESTRUCTURA, FORMATO Y COMENTARIOS

La organización visual del código es crucial para su legibilidad. [cite_start]El objetivo es que se lea como una narrativa[cite: 374].

## Formato
* [cite_start]**Agrupación Vertical**: Mantén los conceptos relacionados juntos verticalmente[cite: 375]. [cite_start]Las funciones que se llaman entre sí deben estar cerca, con la llamadora arriba de la llamada[cite: 377].
* [cite_start]**Espaciado**: Usa líneas en blanco para separar bloques de código que representan conceptos distintos, como si fueran párrafos en un texto[cite: 377].

## Comentarios
[cite_start]El mejor comentario es un código tan claro que no necesita explicación[cite: 378]. El código es la única fuente de verdad.

* **NO USES COMENTARIOS PARA**:
    * [cite_start]**Explicar código malo**: Si el código es confuso, refactorízalo para que sea claro[cite: 379].
    * **Código comentado**: Elimina el código muerto[cite: 386]. El control de versiones existe para recuperarlo si es necesario[cite: 387].
    * [cite_start]**Ser redundante**: No escribas comentarios que repiten lo que el código ya dice (ej: `// incrementa i`)[cite: 385]. Son solo ruido.

* **USOS ACEPTABLES (con moderación)**:
    * [cite_start]**Explicar la intención**: Aclarar por qué se tomó una decisión de diseño no obvia o compleja[cite: 381].
    * **Advertir de consecuencias**: Alertar a otros desarrolladores sobre efectos secundarios importantes o inesperados[cite: 383].